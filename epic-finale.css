/* ===== NOTIFICATION POPUP ===== */
.notification-popup {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.9);
    backdrop-filter: blur(20px);
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    transition: opacity 0.6s ease, visibility 0.6s ease;
}

.notification-popup.active {
    opacity: 1;
    visibility: visible;
    pointer-events: all;
}

.notification-container {
    background: var(--gradient-main);
    border-radius: 30px;
    padding: var(--spacing-xl);
    max-width: 400px;
    text-align: center;
    box-shadow: 0 20px 60px rgba(255, 107, 157, 0.5);
    border: 2px solid rgba(255, 255, 255, 0.3);
    transform: scale(0.8);
    opacity: 0;
    transition: transform 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55), opacity 0.6s ease;
}

.notification-popup.active .notification-container {
    transform: scale(1);
    opacity: 1;
}

.notification-icon {
    font-size: 5rem;
    margin-bottom: var(--spacing-md);
    animation: heartbeat 1.5s ease-in-out infinite;
}

.notification-title {
    font-family: var(--font-heading);
    font-size: 2rem;
    font-weight: 800;
    color: white;
    margin-bottom: var(--spacing-sm);
}

.notification-text {
    font-size: 1.1rem;
    color: rgba(255, 255, 255, 0.9);
    margin-bottom: var(--spacing-lg);
}

.notification-btn {
    background: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(10px);
    border: 2px solid rgba(255, 255, 255, 0.4);
    color: white;
    font-family: var(--font-heading);
    font-size: 1.3rem;
    font-weight: 700;
    padding: 1rem 2.5rem;
    border-radius: 50px;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    gap: 0.75rem;
    transition: all 0.3s ease;
    box-shadow: 0 8px 32px rgba(255, 255, 255, 0.2);
    min-height: 44px;
}

.notification-btn:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: translateY(-3px);
    box-shadow: 0 12px 48px rgba(255, 255, 255, 0.3);
}

.notification-btn:active {
    transform: scale(0.95);
}

.notification-btn svg {
    width: 24px;
    height: 24px;
}

/* ===== EPIC FINALE ===== */
.epic-finale {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: #000;
    z-index: 10001;
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    transition: opacity 1s ease, visibility 1s ease;
    overflow: hidden;
}

.epic-finale.active {
    opacity: 1;
    visibility: visible;
    pointer-events: all;
}

/* Epic Fireworks Canvas - for firework simulator */
#epicFireworksCanvas {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
}

/* Starry Background */
.stars-animation {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
    background: #000;
    overflow: hidden;
}

.stars-animation::before,
.stars-animation::after {
    content: '';
    position: absolute;
    width: 2px;
    height: 2px;
    background: white;
    border-radius: 50%;
    box-shadow:
        100px 200px white, 200px 100px white, 300px 300px white,
        150px 50px white, 250px 250px white, 350px 150px white,
        50px 150px white, 180px 280px white, 320px 80px white,
        120px 220px white, 280px 180px white, 90px 90px white,
        400px 100px white, 450px 300px white, 500px 200px white,
        550px 400px white, 600px 150px white, 650px 350px white,
        700px 250px white, 750px 100px white, 800px 300px white;
    animation: twinkle 3s infinite ease-in-out alternate;
}

.stars-animation::after {
    animation-delay: 1.5s;
}

/* Image Slideshow - always visible, scrolls with credits */
.slideshow-container {
    position: relative;
    width: 350px;
    height: 350px;
    margin: var(--spacing-xl) auto;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 0 80px rgba(255, 107, 157, 1);
    border: 4px solid rgba(255, 255, 255, 0.9);
    z-index: 10;
    background: black;
}

.slideshow-image {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    transition: opacity 1.5s ease-in-out;
}

.slideshow-image.active {
    opacity: 1;
    z-index: 2;
}

.slideshow-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
}

/* Credits Container - Movie-style scrolling from bottom */
.credits-container {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1000;
    overflow: hidden;
    pointer-events: none;
}

.credits-content {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    padding: var(--spacing-xl);
    text-align: center;
    animation: scrollUpMovie 180s linear forwards;
    animation-delay: 2s;
}

@keyframes scrollUpMovie {
    from {
        transform: translateY(0);
    }

    to {
        transform: translateY(-100%);
    }
}

.credits-title {
    font-family: var(--font-heading);
    font-size: clamp(2.5rem, 7vw, 4rem);
    font-weight: 900;
    color: white;
    margin-bottom: var(--spacing-xl);
    text-shadow:
        0 0 40px rgba(255, 107, 157, 1),
        0 0 20px rgba(255, 107, 157, 1),
        0 4px 15px rgba(0, 0, 0, 1),
        0 2px 8px rgba(0, 0, 0, 1);
    background: linear-gradient(135deg, #FF6B9D, #FFA5C3);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    filter: drop-shadow(0 0 30px rgba(255, 107, 157, 0.8));
}

.credits-section {
    margin: 4rem auto;
    max-width: 600px;
}

.credits-section h2 {
    font-family: var(--font-heading);
    font-size: clamp(1.5rem, 4vw, 2.5rem);
    font-weight: 700;
    color: white;
    margin-bottom: var(--spacing-md);
    text-shadow:
        0 0 30px rgba(255, 107, 157, 1),
        0 0 15px rgba(255, 107, 157, 0.8),
        0 4px 12px rgba(0, 0, 0, 1),
        0 2px 6px rgba(0, 0, 0, 1);
}

.credits-section p {
    font-size: clamp(1rem, 3vw, 1.3rem);
    color: white;
    line-height: 2;
    margin-bottom: var(--spacing-sm);
    text-shadow:
        0 4px 12px rgba(0, 0, 0, 1),
        0 2px 6px rgba(0, 0, 0, 1),
        0 0 20px rgba(0, 0, 0, 0.8);
}

.credits-section.highlight {
    background: rgba(255, 107, 157, 0.1);
    backdrop-filter: blur(10px);
    border: 2px solid rgba(255, 107, 157, 0.3);
    border-radius: 20px;
    padding: var(--spacing-xl);
    margin: 5rem auto;
}

.credits-section.highlight h2 {
    font-size: clamp(1.8rem, 5vw, 3rem);
    color: #FFA5C3;
}

.love-text {
    font-size: clamp(1.1rem, 3.5vw, 1.5rem) !important;
    font-weight: 500;
    color: white !important;
}

.credits-section.final {
    margin: 8rem auto;
    padding: var(--spacing-xl);
}

.final-message {
    font-family: var(--font-heading);
    font-size: clamp(2.5rem, 8vw, 5rem);
    font-weight: 900;
    background: linear-gradient(135deg, #FF6B9D, #FFA5C3, #6C5CE7);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: var(--spacing-lg);
    animation: pulse 2s ease-in-out infinite;
}

.signature {
    font-family: var(--font-heading);
    font-size: clamp(1.5rem, 4vw, 2.5rem);
    font-weight: 600;
    color: var(--purple-light);
    font-style: italic;
    margin: var(--spacing-lg) 0;
}

.hearts-rain {
    font-size: clamp(2rem, 5vw, 3rem);
    margin-top: var(--spacing-xl);
    animation: heartbeat 1.5s ease-in-out infinite;
}

.credits-spacer {
    height: 100vh;
}

/* Mobile Adjustments */
@media (max-width: 390px) {
    .slideshow-container {
        width: 90%;
        height: 300px;
    }

    .notification-container {
        max-width: 320px;
        padding: var(--spacing-lg);
    }

    .credits-content {
        padding: var(--spacing-md);
    }

    .credits-section {
        margin: 3rem auto;
    }
}

/* Wish Float Up Animation - for flying wishes and images */
@keyframes wishFloatUp {
    0% {
        opacity: 0;
        transform: translateX(-50%) translateY(10vh);
    }

    15% {
        opacity: 1;
    }

    100% {
        opacity: 0;
        transform: translateX(-50%) translateY(-110vh);
    }
}